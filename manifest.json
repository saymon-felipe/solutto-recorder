{
  "manifest_version": 3,
  "name": "Solutto Recorder",
  "version": "3.1.0",
  "description": "Solutto Recorder faz gravação da tela ou webcam. Após gravar, baixe o MP4 ou envie rapidamente para o seu Google Drive.",
  "permissions": [
    "tabs", "scripting", "storage", "tabCapture", "downloads", "identity", "clipboardWrite", "webNavigation"
  ],
  "background": {
    "service_worker": "src/background/background.js",
    "type": "module"
  },
  "action": {
    "default_icon": { "16": "assets/icon.png", "48": "assets/icon.png", "128": "assets/icon.png" }
  },
  "icons": { "16": "assets/icon.png", "48": "assets/icon.png", "128": "assets/icon.png" },
  "host_permissions": ["http://*/*", "https://*/*"],
  "oauth2": {
    "client_id": "615054796738-tao2gbin8lns2cn7tdbcltc40h4lokfr.apps.googleusercontent.com",
    "scopes": ["https://www.googleapis.com/auth/drive.file", "https://www.googleapis.com/auth/drive"]
  },
  "web_accessible_resources": [
    {
      "resources": [
        "assets/*",
        "src/popup/*",
        "src/editor/*",
        "src/playback/*",
        "src/lib/fontawesome/css/*",
        "src/lib/fontawesome/webfonts/*",
        "src/lib/ffmpeg/util.js", 
        "src/lib/ffmpeg/umd/*" 
      ],
      "matches": ["<all_urls>"]
    }
  ],
  "content_scripts": [
    {
      "matches": ["<all_urls>"],
      "js": [
        "src/core/constants.js", "src/core/utils.js", "src/services/UIManager.js",
        "src/services/AudioMixer.js", "src/services/SignalingService.js",
        "src/services/RecorderManager.js", "src/content/content.js"
      ],
      "css": ["src/content/style.css"],
      "run_at": "document_idle"
    }
  ],
  "content_security_policy": {
    "extension_pages": "script-src 'self' 'wasm-unsafe-eval'; object-src 'self';",
    "sandbox": "sandbox allow-scripts allow-forms allow-popups allow-modals; script-src 'self' 'unsafe-inline' 'unsafe-eval' 'wasm-unsafe-eval'; child-src 'self';"
  }
}